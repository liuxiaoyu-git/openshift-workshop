#### Knative Client
The Knative Client (kn) extends the functionality of the oc or kubectl tools to enable interaction with Knative components on OpenShift Container Platform. kn allows developers to deploy and manage applications without editing YAML files directly.


Create Knative Serving

```
cat <<EOF > serving.yaml
apiVersion: v1
kind: Namespace
metadata:
 name: knative-serving
---
apiVersion: serving.knative.dev/v1alpha1
kind: KnativeServing
metadata:
 name: knative-serving
 namespace: knative-serving
EOF
```

Check serverless components
```
oc get servicemonitor -n knative-serving
```

Create first Serverless Service

```
oc new-project test-knative

cat <<EOF > service.yaml
apiVersion: serving.knative.dev/v1alpha1
kind: Service
metadata:
  name: helloworld-go
  namespace: test-knative
spec:
  template:
    spec:
      containers:
        - image: gcr.io/knative-samples/helloworld-go
          env:
            - name: TARGET
              value: "Go Sample v1"
EOF

oc create -f service.yaml
```


Or using kn cli

```
kn service create hello --image gcr.io/knative-samples/helloworld-go --env TARGET=Knative
```

Check pods and check them again after one minute
```
oc get pods
```

Access the route provided by the output of kn command and check the pods again
```
curl http://hello.test-knative.apps.pro1.mattiamascia.com
```

List services and update them
```
kn service list
kn service update hello --env TARGET=Kn
```

Each time a service gets updated, a new revision of is created with a new URL. That basically coincides with a creating a new Service and a new Deployment.

To check current revisions
```
kn revision list
```

Each revision can be routed to a specific percentage of the traffic, or can be tagged and later accessed with _svc-tag.domain_

```
kn service update hello --traffic @latest=10 --traffic hello-lbzhn-2=90
kn service update hello --tag @latest=candidate --tag hello-lbzhn-2=current
```

